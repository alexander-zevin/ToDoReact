(this["webpackJsonpmy-task-list"]=this["webpackJsonpmy-task-list"]||[]).push([[0],{113:function(e,t,a){e.exports=a(125)},118:function(e,t,a){},119:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),c=(a(118),a(119),a(19)),l=a(18),s=a(128),u=a(184),d=a(185),m=a(172),p=a(168),f=Object(p.a)({root:{display:"flex",alignItems:"stretch",padding:"16px",borderRadius:"4px 4px 0 0"},btn:{height:"100%"}}),g=function(e){var t=e.textFieldValue,a=e.textFieldChange,n=e.addTask,i=f();return r.a.createElement(u.a,{className:i.root},r.a.createElement(d.a,{label:"Add task text",fullWidth:!0,size:"small",value:t,onChange:function(e){a(e.target.value)},variant:"outlined",onKeyUp:function(e){13===e.keyCode&&n(t)}}),r.a.createElement(u.a,{ml:2},r.a.createElement(m.a,{className:i.btn,onClick:function(){n(t)},variant:"contained",color:"primary"},"ADD")))},E=function(e){var t=e.tasks,a=Object(l.b)(),i=Object(n.useState)(""),o=Object(c.a)(i,2),s=o[0],u=o[1],d=function(e){u(e)};return r.a.createElement(g,{textFieldValue:s,textFieldChange:d,addTask:function(e){if(""!==e){var n,r,i=(new Date).toISOString();do{n=0,r=Math.floor(Math.random()*Math.floor(t.length+1));for(var o=0;o<t.length;o++)t[o].id===r&&n++}while(0!==n);a(function(e,t,a){return{type:"ADD_TASK",id:e,text:t,date:a}}(r,e,i)),d("")}}})},b=a(193),x=a(190),h=a(173),v=a(174),O=a(85),k=a.n(O),S=a(86),j=a.n(S),I=Object(p.a)({root:{display:"flex",alignItems:"center",height:"50px",padding:"8px 0",boxSizing:"border-box",borderBottom:"1px solid transparent",boxShadow:"0 2px 5px #757575"}}),w=function(e){var t=I();return r.a.createElement(u.a,{className:t.root},r.a.createElement(u.a,{flexGrow:1,pl:2},r.a.createElement(b.a,{placeholder:"Change the task text",autoFocus:!0,value:e.inputValue,onChange:function(t){e.setInputValue(t.target.value)},onKeyUp:function(t){13===t.keyCode&&e.saveTask(e.id,e.inputValue)},fullWidth:!0})),r.a.createElement(x.a,{title:"Save",placement:"top"},r.a.createElement(h.a,{onClick:function(){e.saveTask(e.id,e.inputValue)}},r.a.createElement(k.a,null))),r.a.createElement(v.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(x.a,{title:"Cancel",placement:"top"},r.a.createElement(h.a,{onClick:function(){e.setEditModeIndex(null)}},r.a.createElement(j.a,null))))},C=function(e){var t=Object(l.b)(),a=Object(n.useState)(e.text),i=Object(c.a)(a,2),o=i[0],s=i[1];return r.a.createElement(w,Object.assign({inputValue:o,setInputValue:s,saveTask:function(a,n){t(function(e,t){return{type:"SAVE_TASK",id:e,text:t}}(a,n)),e.setEditModeIndex(null),e.setActiveRowIndex(null),e.setOpenMessage({open:!0,message:"Saving was successful!"})}},e))},T=a(188),M=a(92),y=a.n(M),N=a(93),A=a.n(N),D=a(90),z=a.n(D),R=a(91),P=a.n(R),_=a(177),V=a(181),F=a(179),B=a(180),K=a(178),J=a(87),L=a.n(J),G=a(89),U=a.n(G),W=a(88),Z=a.n(W),H=a(176),Y=a(175);function $(e){return r.a.createElement(L.a,{handle:"#draggable-dialog-title"},r.a.createElement(s.a,e))}var q=function(e){var t=Object(Y.a)((function(e){return e.breakpoints.down("sm")})),a=r.a.useState(!1),n=Object(c.a)(a,2),i=n[0],o=n[1],l=function(){o(!1),e.setActiveRowIndex(null)},s=r.a.forwardRef((function(e,t){return r.a.createElement(H.a,Object.assign({direction:"up",ref:t},e))}));return r.a.createElement("div",null,r.a.createElement(x.a,{title:"View content",placement:"top"},r.a.createElement(h.a,{onClick:function(){o(!0)}},r.a.createElement(U.a,null))),r.a.createElement(_.a,{open:i,onClose:l,PaperComponent:$,TransitionComponent:s,fullScreen:t},r.a.createElement(K.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"View content"),r.a.createElement(F.a,null,r.a.createElement(B.a,{className:Z.a.ViewContent},e.text)),r.a.createElement(V.a,null,r.a.createElement(m.a,{autoFocus:!0,onClick:l,color:"primary"},"Close"))))},Q=Object(p.a)({root:{display:"flex",alignItems:"center",height:"50px",padding:"".concat("8px"," 0"),boxSizing:"border-box",borderBottom:"1px solid #eeeeee","&:hover":{borderBottom:"1px solid transparent",boxShadow:"0 2px 5px #757575"}},star:{position:"relative",right:"12px"},text:{position:"relative",right:"12px",whiteSpace:"nowrap",flexGrow:1,textDecoration:function(e){return e.textDecoration}},date:{minWidth:"50px",margin:"0 ".concat("8px")}}),X=function(e){var t={textDecoration:e.isPerformed?"line-through":"none"},a=Q(t);return r.a.createElement("div",{className:a.root,onMouseMove:function(){e.setActiveRowIndex(e.id)},onMouseLeave:function(){e.setActiveRowIndex(null)},id:"draggable-row"},r.a.createElement(x.a,{title:e.isPerformed?"Performed":"Not performed",placement:"top"},r.a.createElement(T.a,{color:"primary",checked:e.isPerformed,onChange:function(){e.setPerformed(e.id)}})),r.a.createElement(x.a,{title:e.isTagged?"Tagged":"Not tagged",placement:"top",className:a.star},r.a.createElement(h.a,{onClick:function(){e.setTag(e.id)}},e.isTagged?r.a.createElement(z.a,{color:"primary"}):r.a.createElement(P.a,null))),r.a.createElement(u.a,{className:a.text,textOverflow:"ellipsis",overflow:"hidden"},e.text),e.activeRowIndex===e.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{title:"Edit",placement:"top"},r.a.createElement(h.a,{onClick:function(){e.setEditModeIndex(e.id)}},r.a.createElement(y.a,null))),r.a.createElement(v.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(q,{text:e.text,setActiveRowIndex:e.setActiveRowIndex}),r.a.createElement(v.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(x.a,{title:"Delete",placement:"top"},r.a.createElement(h.a,{onClick:function(){e.deleteTasks(e.id)}},r.a.createElement(A.a,null)))):r.a.createElement(u.a,{className:a.date},e.date))},ee=function(e){var t=Object(l.b)();return r.a.createElement(X,Object.assign({setPerformed:function(e){t(function(e){return{type:"SET_PERFORMED",id:e}}(e))},deleteTasks:function(a){t(function(e){return{type:"DELETE_TASK",id:e}}(a)),e.setOpenMessage({open:!0,message:"Uninstall was successful"})},setTag:function(e){t(function(e){return{type:"SET_TAG",id:e}}(e))}},e))},te=Object(p.a)({root:{borderTop:"1px solid #e0e0e0",flexGrow:1,overflow:"auto"},empty:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center","& span":{padding:"16px",backgroundColor:"#fafafa",borderRadius:"5px",border:"1px solid #e0e0e0"}}}),ae=function(e){var t=te();return r.a.createElement(u.a,{className:t.root},0===e.tasks.length&&r.a.createElement(u.a,{className:t.empty},r.a.createElement("span",null,"It's empty here...")),e.tasks.slice(e.leftPortionPageNumber,e.rightPortionPageNumber).map((function(t){return e.editModeIndex!==t.id?r.a.createElement(ee,{id:t.id,text:t.text,isPerformed:t.isPerformed,editModeIndex:e.editModeIndex,setEditModeIndex:e.setEditModeIndex,activeRowIndex:e.activeRowIndex,setActiveRowIndex:e.setActiveRowIndex,setOpenMessage:e.setOpenMessage,isTagged:t.isTagged,date:e.convertDate(t.date),key:t.id}):r.a.createElement(C,{id:t.id,text:t.text,setEditModeIndex:e.setEditModeIndex,setOpenMessage:e.setOpenMessage,key:t.id,setActiveRowIndex:e.setActiveRowIndex})})))},ne=function(e){return"".concat(new Date(e).getDate()," ").concat(["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."][new Date(e).getMonth()])},re=function(e){var t=Object(n.useState)(null),a=Object(c.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(null),s=Object(c.a)(l,2),u=s[0],d=s[1],m=(e.pageNumber-1)*e.pageSize,p=e.pageNumber*e.pageSize,f=[];switch(e.filter){case"not performed":f=e.tasks.filter((function(e){return!e.isPerformed}));break;case"tags":f=e.tasks.filter((function(e){return e.isTagged}));break;default:f=e.tasks}return r.a.createElement(ae,{tasks:f,editModeIndex:i,setEditModeIndex:o,activeRowIndex:u,setActiveRowIndex:d,setOpenMessage:e.setOpenMessage,pageNumber:e.pageNumber,pageSize:e.pageSize,leftPortionPageNumber:m,rightPortionPageNumber:p,filter:e.filter,convertDate:ne})},ie=a(191),oe=a(187),ce=a(189);function le(e){return r.a.createElement(H.a,Object.assign({},e,{direction:"right"}))}var se=function(e){return r.a.createElement(ce.a,{mdDown:!0},r.a.createElement(ie.a,{open:e.openMessage.open,onClose:function(){e.setOpenMessage({open:!1,message:null})},autoHideDuration:4e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:le},r.a.createElement(oe.a,{onClose:function(){e.setOpenMessage({open:!1,message:null})},severity:"success",variant:"filled"},e.openMessage.message)))},ue=a(186),de=Object(p.a)({root:{padding:"8px",display:"flex",justifyContent:"center"}}),me=function(e){var t=de(),a=Math.ceil(e.tasks.length/e.pageSize);return r.a.createElement(u.a,{className:t.root},r.a.createElement(ue.a,{count:a,onChange:e.paginatorChange,color:"primary"}))},pe=a(52),fe=Object(p.a)((function(e){var t;return{root:(t={width:"700px",height:"100vh"},Object(pe.a)(t,e.breakpoints.up("sm"),{height:"80vh"}),Object(pe.a)(t,"display","flex"),Object(pe.a)(t,"flexDirection","column"),t)}})),ge=a(194),Ee=a(98),be=a(100),xe=a(94),he=a.n(xe),ve=Object(p.a)({root:{width:"230px",margin:"0 8px 8px"}}),Oe=function(e){var t=ve();return r.a.createElement(u.a,{className:t.root},r.a.createElement(m.a,{onClick:e.handleButtonClick,startIcon:r.a.createElement(he.a,null)},r.a.createElement(be.a,{variant:"body2"},"Filter by: ",e.filter)),r.a.createElement(Ee.a,{anchorEl:e.anchorEl,keepMounted:!0,open:Boolean(e.anchorEl),onClose:e.handleClose},e.options.map((function(t,a){return r.a.createElement(ge.a,{key:t,selected:a===e.options.indexOf(e.filter),onClick:function(t){return e.handleMenuItemClick(t,a)}},t)}))))},ke=["all","not performed","tags"],Se=function(e){var t=e.filter,a=Object(l.b)(),n=r.a.useState(null),i=Object(c.a)(n,2),o=i[0],s=i[1];return r.a.createElement(Oe,{filter:t,anchorEl:o,handleButtonClick:function(e){s(e.currentTarget)},handleMenuItemClick:function(e,t){s(null),a({type:"SET_FILTER",option:ke[t]})},handleClose:function(){s(null)},options:ke})},je=a(129),Ie=a(182),we=a(192),Ce=Object(p.a)((function(e){return Object(we.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})})),Te=function(e){var t=e.initialized,a=Ce();return r.a.createElement(je.a,{className:a.backdrop,open:t},r.a.createElement(Ie.a,{color:"inherit"}))},Me=function(e){var t=fe();return r.a.createElement(s.a,{className:t.root,elevation:3},r.a.createElement(E,{tasks:e.listState.tasks}),r.a.createElement(Se,{filter:e.listState.filter}),r.a.createElement(re,{setOpenMessage:e.setOpenMessage,tasks:e.listState.tasks,pageNumber:e.pageNumber,pageSize:e.pageSize,filter:e.listState.filter}),r.a.createElement(se,{openMessage:e.openMessage,setOpenMessage:e.setOpenMessage}),r.a.createElement(me,{tasks:e.listState.tasks,paginatorChange:e.paginatorChange,pageSize:e.pageSize}),r.a.createElement(Te,{initialized:e.initialized}))},ye=function(e){localStorage.setItem("tasks",JSON.stringify(e))},Ne=function(){return JSON.parse(localStorage.getItem("tasks"))},Ae=function(){console.log("main");var e=Object(l.b)(),t=Object(l.c)((function(e){return e.list})),a=Object(l.c)((function(e){return e.app.initialized}));Object(n.useEffect)((function(){e((function(e){var t=Ne();setTimeout((function(){null!==t&&(e({type:"SET_STATE",state:t}),e({type:"INITIALIZED_SUCCESS",initialized:!1}))}),2e3)}))}),[]),Object(n.useEffect)((function(){ye(t)}),[t]);var i=Object(n.useState)({open:!1,message:null}),o=Object(c.a)(i,2),s=o[0],u=o[1],d=Object(n.useState)(1),m=Object(c.a)(d,2),p=m[0],f=m[1];return r.a.createElement(Me,{openMessage:s,setOpenMessage:u,pageSize:11,pageNumber:p,paginatorChange:function(e,t){f(t)},listState:t,initialized:a})},De=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Ae,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ze=a(183),Re=a(96),Pe=a(65),_e=Object(Re.a)({palette:{primary:{main:Pe.a[400]},success:{main:Pe.a[400]}}}),Ve=a(47),Fe=a(95),Be=a(97),Ke=a(17),Je={tasks:[],filter:"all"},Le={initialized:!0},Ge=Object(Ve.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":return Object(Ke.a)({},e,{tasks:[].concat(Object(Be.a)(e.tasks),[{id:t.id,text:t.text,isPerformed:!1,isTagged:!1,date:t.date}])});case"DELETE_TASK":return Object(Ke.a)({},e,{tasks:e.tasks.filter((function(e){return e.id!==t.id}))});case"SET_PERFORMED":return Object(Ke.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object(Ke.a)({},e,{isPerformed:!e.isPerformed}):Object(Ke.a)({},e)}))});case"SAVE_TASK":return Object(Ke.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object(Ke.a)({},e,{text:t.text}):Object(Ke.a)({},e)}))});case"SET_STATE":return t.state;case"SET_TAG":return Object(Ke.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object(Ke.a)({},e,{isTagged:!e.isTagged}):Object(Ke.a)({},e)}))});case"SET_FILTER":return Object(Ke.a)({},e,{filter:t.option});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;return"INITIALIZED_SUCCESS"===t.type?Object(Ke.a)({},e,{initialized:t.initialized}):e}}),Ue=Object(Ve.d)(Ge,Object(Ve.a)(Fe.a));o.a.render(r.a.createElement(l.a,{store:Ue},r.a.createElement(ze.a,{theme:_e},r.a.createElement(De,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){e.exports={ViewContent:"ViewContent_ViewContent__3_YZb"}}},[[113,1,2]]]);
//# sourceMappingURL=main.ed41422a.chunk.js.map