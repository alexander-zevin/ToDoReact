(this["webpackJsonpmy-task-list"]=this["webpackJsonpmy-task-list"]||[]).push([[0],{117:function(e,t,a){e.exports=a(129)},122:function(e,t,a){},123:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),i=a.n(o),c=(a(122),a(123),a(16)),l=a(15),s=a(132),u=a(186),d=a(187),m=a(174),p=a(170),f=Object(p.a)({root:{display:"flex",alignItems:"stretch",padding:"16px",borderRadius:"4px 4px 0 0"},btn:{height:"100%"}}),g=function(e){var t=e.textFieldValue,a=e.textFieldChange,n=e.addTask,o=f();return r.a.createElement(u.a,{className:o.root},r.a.createElement(d.a,{label:"Add task text",fullWidth:!0,size:"small",value:t,onChange:function(e){a(e.target.value)},variant:"outlined",onKeyUp:function(e){13===e.keyCode&&n(t)}}),r.a.createElement(u.a,{ml:2},r.a.createElement(m.a,{className:o.btn,onClick:function(){n(t)},variant:"contained",color:"primary"},"ADD")))},E=function(e){var t=e.tasks,a=Object(l.b)(),o=Object(n.useState)(""),i=Object(c.a)(o,2),s=i[0],u=i[1],d=function(e){u(e)};return r.a.createElement(g,{textFieldValue:s,textFieldChange:d,addTask:function(e){if(""!==e){var n,r,o=(new Date).toISOString();do{n=0,r=Math.floor(Math.random()*Math.floor(t.length+1));for(var i=0;i<t.length;i++)t[i].id===r&&n++}while(0!==n);a(function(e,t,a){return{type:"ADD_TASK",id:e,text:t,date:a}}(r,e,o)),d("")}}})},b=a(195),h=a(192),x=a(175),v=a(176),O=a(87),k=a.n(O),S=a(88),j=a.n(S),y=Object(p.a)({root:{display:"flex",alignItems:"center",height:"50px",padding:"8px 0",boxSizing:"border-box",borderBottom:"1px solid transparent",boxShadow:"0 2px 5px #757575"}}),T=function(e){var t=y();return r.a.createElement(u.a,{className:t.root},r.a.createElement(u.a,{flexGrow:1,pl:2},r.a.createElement(b.a,{placeholder:"Change the task text",autoFocus:!0,value:e.inputValue,onChange:function(t){e.setInputValue(t.target.value)},onKeyUp:function(t){13===t.keyCode&&e.saveTask(e.id,e.inputValue)},fullWidth:!0})),r.a.createElement(h.a,{title:"Save",placement:"top"},r.a.createElement(x.a,{onClick:function(){e.saveTask(e.id,e.inputValue)}},r.a.createElement(k.a,null))),r.a.createElement(v.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(h.a,{title:"Cancel",placement:"top"},r.a.createElement(x.a,{onClick:function(){e.setEditModeIndex(null)}},r.a.createElement(j.a,null))))},C=function(e){var t=Object(l.b)(),a=Object(n.useState)(e.text),o=Object(c.a)(a,2),i=o[0],s=o[1];return r.a.createElement(T,Object.assign({inputValue:i,setInputValue:s,saveTask:function(a,n){t(function(e,t){return{type:"SAVE_TASK",id:e,text:t}}(a,n)),e.setEditModeIndex(null),e.setActiveRow(null),e.setOpenMessage({open:!0,message:"Saving was successful!"})}},e))},w=a(190),M=a(94),I=a.n(M),N=a(95),A=a.n(N),z=a(92),P=a.n(z),R=a(93),B=a.n(R),D=a(179),_=a(183),V=a(181),F=a(182),W=a(180),K=a(89),J=a.n(K),L=a(91),G=a.n(L),U=a(90),Q=a.n(U),Z=a(178),H=a(177);function $(e){return r.a.createElement(J.a,{handle:"#draggable-dialog-title"},r.a.createElement(s.a,e))}var q=function(e){var t=Object(H.a)((function(e){return e.breakpoints.down("sm")})),a=r.a.useState(!1),n=Object(c.a)(a,2),o=n[0],i=n[1],l=function(){i(!1),e.setActiveRow(null)},s=r.a.forwardRef((function(e,t){return r.a.createElement(Z.a,Object.assign({direction:"up",ref:t},e))}));return r.a.createElement("div",null,r.a.createElement(h.a,{title:"View content",placement:"top"},r.a.createElement(x.a,{onClick:function(){i(!0)}},r.a.createElement(G.a,null))),r.a.createElement(D.a,{open:o,onClose:l,PaperComponent:$,TransitionComponent:s,fullScreen:t},r.a.createElement(W.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"View content"),r.a.createElement(V.a,null,r.a.createElement(F.a,{className:Q.a.ViewContent},e.text)),r.a.createElement(_.a,null,r.a.createElement(m.a,{autoFocus:!0,onClick:l,color:"primary"},"Close"))))},X=Object(p.a)({root:{display:"flex",alignItems:"center",height:"50px",padding:"".concat("8px"," 0"),boxSizing:"border-box",borderBottom:"1px solid #eeeeee","&:hover":{borderBottom:"1px solid transparent",boxShadow:"0 2px 5px #757575"}},star:{position:"relative",right:"12px"},text:{position:"relative",right:"12px",whiteSpace:"nowrap",flexGrow:1,textDecoration:function(e){return e.textDecoration}},date:{minWidth:"50px",margin:"0 ".concat("8px")}}),Y=a(65),ee=function(e){var t=Object(Y.useMediaQuery)({maxWidth:600}),a={textDecoration:e.isPerformed?"line-through":"none"},n=X(a);return r.a.createElement("div",{className:n.root,onTouchStart:function(){t&&e.setActiveRow(e.id)},onMouseMove:function(){!t&&e.setActiveRow(e.id)},onMouseLeave:function(){!t&&e.setActiveRow(null)},id:"draggable-row"},r.a.createElement(h.a,{title:e.isPerformed?"Performed":"Not performed",placement:"top"},r.a.createElement(w.a,{color:"primary",checked:e.isPerformed,onChange:function(){e.setPerformed(e.id)}})),r.a.createElement(h.a,{title:e.isTagged?"Tagged":"Not tagged",placement:"top",className:n.star},r.a.createElement(x.a,{onClick:function(){e.setTag(e.id)}},e.isTagged?r.a.createElement(P.a,{color:"primary"}):r.a.createElement(B.a,null))),r.a.createElement(u.a,{className:n.text,textOverflow:"ellipsis",overflow:"hidden"},e.text),e.activeRowIndex===e.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{title:"Edit",placement:"top"},r.a.createElement(x.a,{onClick:function(){e.setEditModeIndex(e.id)}},r.a.createElement(I.a,null))),r.a.createElement(v.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(q,{text:e.text,setActiveRow:e.setActiveRow}),r.a.createElement(v.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(h.a,{title:"Delete",placement:"top"},r.a.createElement(x.a,{onClick:function(){e.deleteTasks(e.id)}},r.a.createElement(A.a,null)))):r.a.createElement(u.a,{className:n.date},e.date))},te=function(e){var t=Object(l.b)();return r.a.createElement(ee,Object.assign({setPerformed:function(e){t(function(e){return{type:"SET_PERFORMED",id:e}}(e))},deleteTasks:function(a){t(function(e){return{type:"DELETE_TASK",id:e}}(a)),e.setOpenMessage({open:!0,message:"Uninstall was successful"})},setTag:function(e){t(function(e){return{type:"SET_TAG",id:e}}(e))}},e))},ae=Object(p.a)({root:{borderTop:"1px solid #e0e0e0",flexGrow:1,overflow:"auto"},empty:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center","& span":{padding:"16px",backgroundColor:"#fafafa",borderRadius:"5px",border:"1px solid #e0e0e0"}}}),ne=function(e){var t=ae();return r.a.createElement(u.a,{className:t.root},e.initialized&&0===e.tasks.length&&r.a.createElement(u.a,{className:t.empty},r.a.createElement("span",null,"It's empty here...")),e.tasks.slice(e.leftPortionPageNumber,e.rightPortionPageNumber).map((function(t){return e.editModeIndex!==t.id?r.a.createElement(te,{id:t.id,text:t.text,isPerformed:t.isPerformed,editModeIndex:e.editModeIndex,setEditModeIndex:e.setEditModeIndex,activeRowIndex:e.activeRowIndex,setActiveRow:e.setActiveRow,setOpenMessage:e.setOpenMessage,isTagged:t.isTagged,date:e.convertDate(t.date),key:t.id}):r.a.createElement(C,{id:t.id,text:t.text,setEditModeIndex:e.setEditModeIndex,setOpenMessage:e.setOpenMessage,key:t.id,setActiveRow:e.setActiveRow})})))},re=function(e){return"".concat(new Date(e).getDate()," ").concat(["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."][new Date(e).getMonth()])},oe=function(e){var t=Object(n.useState)(null),a=Object(c.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),s=Object(c.a)(l,2),u=s[0],d=s[1],m=(e.pageNumber-1)*e.pageSize,p=e.pageNumber*e.pageSize,f=[];switch(e.filter){case"not performed":f=e.tasks.filter((function(e){return!e.isPerformed}));break;case"tags":f=e.tasks.filter((function(e){return e.isTagged}));break;default:f=e.tasks}switch(e.sortBy){case"not performed":f.sort((function(e,t){return e.isPerformed>t.isPerformed?1:e.isPerformed<t.isPerformed?-1:0}));break;case"tags":f.sort((function(e,t){return e.isTagged<t.isTagged?1:e.isTagged>t.isTagged?-1:0}));break;case"date":f.sort((function(e,t){return e.date>t.date?1:e.date<t.date?-1:0}))}return r.a.createElement(ne,{tasks:f,editModeIndex:o,setEditModeIndex:i,activeRowIndex:u,setActiveRow:function(e){d(e)},setOpenMessage:e.setOpenMessage,pageNumber:e.pageNumber,pageSize:e.pageSize,leftPortionPageNumber:m,rightPortionPageNumber:p,filter:e.filter,sortBy:e.sortBy,convertDate:re,initialized:e.initialized})},ie=a(193),ce=a(189),le=a(191);function se(e){return r.a.createElement(Z.a,Object.assign({},e,{direction:"right"}))}var ue=function(e){return r.a.createElement(le.a,{mdDown:!0},r.a.createElement(ie.a,{open:e.openMessage.open,onClose:function(){e.setOpenMessage({open:!1,message:null})},autoHideDuration:4e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:se},r.a.createElement(ce.a,{onClose:function(){e.setOpenMessage({open:!1,message:null})},severity:"success",variant:"filled"},e.openMessage.message)))},de=a(188),me=Object(p.a)({root:{padding:"8px",display:"flex",justifyContent:"center"}}),pe=function(e){var t=me(),a=Math.ceil(e.tasks.length/e.pageSize);return r.a.createElement(u.a,{className:t.root,position:"static"},r.a.createElement(de.a,{count:a,onChange:e.paginatorChange,color:"primary"}))},fe=a(43),ge=Object(p.a)((function(e){var t;return{root:(t={width:"100vw",height:"100vh"},Object(fe.a)(t,e.breakpoints.up("sm"),{height:"80vh",width:"700px"}),Object(fe.a)(t,"minWidth","250px"),Object(fe.a)(t,"display","flex"),Object(fe.a)(t,"flexDirection","column"),t)}})),Ee=a(133),be=a(184),he=a(194),xe=Object(p.a)((function(e){return Object(he.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})})),ve=function(e){var t=e.initialized,a=xe();return r.a.createElement(Ee.a,{className:a.backdrop,open:!t},r.a.createElement(be.a,{color:"inherit"}))},Oe=a(196),ke=a(101),Se=a(103),je=a(96),ye=a.n(je),Te=Object(p.a)({root:{margin:"0 8px 8px"}}),Ce=function(e){var t=Te();return r.a.createElement(u.a,{className:t.root},r.a.createElement(m.a,{onClick:e.handleButtonClick,startIcon:r.a.createElement(ye.a,null)},r.a.createElement(Se.a,{variant:"body2"},"Filter by: ",e.filter)),r.a.createElement(ke.a,{anchorEl:e.anchorEl,keepMounted:!0,open:Boolean(e.anchorEl),onClose:e.handleClose},e.options.map((function(t,a){return r.a.createElement(Oe.a,{key:t,selected:a===e.options.indexOf(e.filter),onClick:function(t){return e.handleMenuItemClick(t,a)}},t)}))))},we=["all","not performed","tags"],Me=function(e){var t=e.filter,a=Object(l.b)(),n=r.a.useState(null),o=Object(c.a)(n,2),i=o[0],s=o[1];return r.a.createElement(Ce,{filter:t,anchorEl:i,handleButtonClick:function(e){s(e.currentTarget)},handleMenuItemClick:function(e,t){s(null),a({type:"SET_FILTER",option:we[t]})},handleClose:function(){s(null)},options:we})},Ie=a(97),Ne=a.n(Ie),Ae=Object(p.a)({root:{margin:"0 8px 8px"}}),ze=function(e){var t=Ae();return r.a.createElement(u.a,{className:t.root},r.a.createElement(m.a,{onClick:e.handleButtonClick,startIcon:r.a.createElement(Ne.a,null)},r.a.createElement(Se.a,{variant:"body2"},"Sort by: ",e.sortBy)),r.a.createElement(ke.a,{anchorEl:e.anchorEl,keepMounted:!0,open:Boolean(e.anchorEl),onClose:e.handleClose},e.options.map((function(t,a){return r.a.createElement(Oe.a,{key:t,selected:a===e.options.indexOf(e.sortBy),onClick:function(t){return e.handleMenuItemClick(t,a)}},t)}))))},Pe=["date","not performed","tags"],Re=function(e){var t=e.sortBy,a=Object(l.b)(),n=r.a.useState(null),o=Object(c.a)(n,2),i=o[0],s=o[1];return r.a.createElement(ze,{sortBy:t,anchorEl:i,handleButtonClick:function(e){s(e.currentTarget)},handleMenuItemClick:function(e,t){s(null),a({type:"SET_SORT",option:Pe[t]})},handleClose:function(){s(null)},options:Pe})},Be=Object(p.a)((function(e){return{root:{display:"flex"}}})),De=function(e){var t=e.filter,a=e.sortBy,n=Be();return r.a.createElement(u.a,{className:n.root},r.a.createElement(Me,{filter:t}),r.a.createElement(Re,{sortBy:a}))},_e=function(e){var t=ge();return r.a.createElement(s.a,{className:t.root,elevation:3},r.a.createElement(E,{tasks:e.listState.tasks}),r.a.createElement(De,{filter:e.listState.filter,sortBy:e.listState.sortBy}),r.a.createElement(oe,{setOpenMessage:e.setOpenMessage,tasks:e.listState.tasks,pageNumber:e.pageNumber,pageSize:e.pageSize,filter:e.listState.filter,sortBy:e.listState.sortBy,initialized:e.initialized}),r.a.createElement(ue,{openMessage:e.openMessage,setOpenMessage:e.setOpenMessage}),r.a.createElement(pe,{tasks:e.listState.tasks,paginatorChange:e.paginatorChange,pageSize:e.pageSize}),r.a.createElement(ve,{initialized:e.initialized}))},Ve=function(e){localStorage.setItem("tasks",JSON.stringify(e))},Fe=function(){return JSON.parse(localStorage.getItem("tasks"))},We=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.list})),a=Object(l.c)((function(e){return e.app.initialized}));Object(n.useEffect)((function(){e((function(e){var t=Fe();setTimeout((function(){null!==t&&e({type:"SET_STATE",state:t}),e({type:"INITIALIZED_SUCCESS",initialized:!0})}),2e3)}))}),[]),Object(n.useEffect)((function(){Ve(t)}),[t]);var o=Object(n.useState)({open:!1,message:null}),i=Object(c.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(1),m=Object(c.a)(d,2),p=m[0],f=m[1];return r.a.createElement(_e,{openMessage:s,setOpenMessage:u,pageSize:11,pageNumber:p,paginatorChange:function(e,t){f(t)},listState:t,initialized:a})},Ke=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(We,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Je=a(185),Le=a(99),Ge=a(66),Ue=Object(Le.a)({palette:{primary:{main:Ge.a[400]},success:{main:Ge.a[400]}}}),Qe=a(48),Ze=a(98),He=a(100),$e=a(17),qe={tasks:[],filter:"all",sortBy:"date"},Xe={initialized:!1,isMobile:Object(Y.useMediaQuery)({maxWidth:600})},Ye=[Ze.a],et=Object(Qe.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":return Object($e.a)({},e,{tasks:[].concat(Object(He.a)(e.tasks),[{id:t.id,text:t.text,isPerformed:!1,isTagged:!1,date:t.date}])});case"DELETE_TASK":return Object($e.a)({},e,{tasks:e.tasks.filter((function(e){return e.id!==t.id}))});case"SET_PERFORMED":return Object($e.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object($e.a)({},e,{isPerformed:!e.isPerformed}):Object($e.a)({},e)}))});case"SAVE_TASK":return Object($e.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object($e.a)({},e,{text:t.text}):Object($e.a)({},e)}))});case"SET_STATE":return t.state;case"SET_TAG":return Object($e.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object($e.a)({},e,{isTagged:!e.isTagged}):Object($e.a)({},e)}))});case"SET_FILTER":return Object($e.a)({},e,{filter:t.option});case"SET_SORT":return Object($e.a)({},e,{sortBy:t.option});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;return"INITIALIZED_SUCCESS"===t.type?Object($e.a)({},e,{initialized:t.initialized}):e}}),tt=Object(Qe.d)(et,Qe.a.apply(void 0,Ye));i.a.render(r.a.createElement(l.a,{store:tt},r.a.createElement(Je.a,{theme:Ue},r.a.createElement(Ke,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports={ViewContent:"ViewContent_ViewContent__WgEsj"}}},[[117,1,2]]]);
//# sourceMappingURL=main.b86d5f2e.chunk.js.map