(this["webpackJsonpmy-task-list"]=this["webpackJsonpmy-task-list"]||[]).push([[0],{116:function(e,t,a){e.exports=a(128)},121:function(e,t,a){},122:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),i=a.n(o),c=(a(121),a(122),a(16)),l=a(15),s=a(131),u=a(185),d=a(186),m=a(173),p=a(169),f=Object(p.a)({root:{display:"flex",alignItems:"stretch",padding:"16px",borderRadius:"4px 4px 0 0"},btn:{height:"100%"}}),g=function(e){var t=e.textFieldValue,a=e.textFieldChange,n=e.addTask,o=f();return r.a.createElement(u.a,{className:o.root},r.a.createElement(d.a,{label:"Add task text",fullWidth:!0,size:"small",value:t,onChange:function(e){a(e.target.value)},variant:"outlined",onKeyUp:function(e){13===e.keyCode&&n(t)}}),r.a.createElement(u.a,{ml:2},r.a.createElement(m.a,{className:o.btn,onClick:function(){n(t)},variant:"contained",color:"primary"},"ADD")))},E=function(e){var t=e.tasks,a=Object(l.b)(),o=Object(n.useState)(""),i=Object(c.a)(o,2),s=i[0],u=i[1],d=function(e){u(e)};return r.a.createElement(g,{textFieldValue:s,textFieldChange:d,addTask:function(e){if(""!==e){var n,r,o=(new Date).toISOString();do{n=0,r=Math.floor(Math.random()*Math.floor(t.length+1));for(var i=0;i<t.length;i++)t[i].id===r&&n++}while(0!==n);a(function(e,t,a){return{type:"ADD_TASK",id:e,text:t,date:a}}(r,e,o)),d("")}}})},b=a(194),x=a(191),h=a(174),O=a(175),v=a(87),k=a.n(v),S=a(88),j=a.n(S),y=Object(p.a)({root:{display:"flex",alignItems:"center",height:"50px",padding:"8px 0",boxSizing:"border-box",borderBottom:"1px solid transparent",boxShadow:"0 2px 5px #757575"}}),I=function(e){var t=y();return r.a.createElement(u.a,{className:t.root},r.a.createElement(u.a,{flexGrow:1,pl:2},r.a.createElement(b.a,{placeholder:"Change the task text",autoFocus:!0,value:e.inputValue,onChange:function(t){e.setInputValue(t.target.value)},onKeyUp:function(t){13===t.keyCode&&e.saveTask(e.id,e.inputValue)},fullWidth:!0})),r.a.createElement(x.a,{title:"Save",placement:"top"},r.a.createElement(h.a,{onClick:function(){e.saveTask(e.id,e.inputValue)}},r.a.createElement(k.a,null))),r.a.createElement(O.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(x.a,{title:"Cancel",placement:"top"},r.a.createElement(h.a,{onClick:function(){e.setEditModeIndex(null)}},r.a.createElement(j.a,null))))},C=function(e){var t=Object(l.b)(),a=Object(n.useState)(e.text),o=Object(c.a)(a,2),i=o[0],s=o[1];return r.a.createElement(I,Object.assign({inputValue:i,setInputValue:s,saveTask:function(a,n){t(function(e,t){return{type:"SAVE_TASK",id:e,text:t}}(a,n)),e.setEditModeIndex(null),e.setActiveRowIndex(null),e.setOpenMessage({open:!0,message:"Saving was successful!"})}},e))},w=a(189),T=a(94),M=a.n(T),N=a(95),A=a.n(N),z=a(92),P=a.n(z),R=a(93),B=a.n(R),D=a(178),_=a(182),V=a(180),F=a(181),K=a(179),J=a(89),L=a.n(J),W=a(91),G=a.n(W),U=a(90),Z=a.n(U),H=a(177),$=a(176);function q(e){return r.a.createElement(L.a,{handle:"#draggable-dialog-title"},r.a.createElement(s.a,e))}var Q=function(e){var t=Object($.a)((function(e){return e.breakpoints.down("sm")})),a=r.a.useState(!1),n=Object(c.a)(a,2),o=n[0],i=n[1],l=function(){i(!1),e.setActiveRowIndex(null)},s=r.a.forwardRef((function(e,t){return r.a.createElement(H.a,Object.assign({direction:"up",ref:t},e))}));return r.a.createElement("div",null,r.a.createElement(x.a,{title:"View content",placement:"top"},r.a.createElement(h.a,{onClick:function(){i(!0)}},r.a.createElement(G.a,null))),r.a.createElement(D.a,{open:o,onClose:l,PaperComponent:q,TransitionComponent:s,fullScreen:t},r.a.createElement(K.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"View content"),r.a.createElement(V.a,null,r.a.createElement(F.a,{className:Z.a.ViewContent},e.text)),r.a.createElement(_.a,null,r.a.createElement(m.a,{autoFocus:!0,onClick:l,color:"primary"},"Close"))))},X=Object(p.a)({root:{display:"flex",alignItems:"center",height:"50px",padding:"".concat("8px"," 0"),boxSizing:"border-box",borderBottom:"1px solid #eeeeee","&:hover":{borderBottom:"1px solid transparent",boxShadow:"0 2px 5px #757575"}},star:{position:"relative",right:"12px"},text:{position:"relative",right:"12px",whiteSpace:"nowrap",flexGrow:1,textDecoration:function(e){return e.textDecoration}},date:{minWidth:"50px",margin:"0 ".concat("8px")}}),Y=function(e){var t=Object($.a)((function(e){return e.breakpoints.down("sm")})),a={textDecoration:e.isPerformed?"line-through":"none"},n=X(a);return r.a.createElement("div",{className:n.root,onClick:function(){t&&e.setActiveRowIndex(e.id)},onMouseMove:function(){!t&&e.setActiveRowIndex(e.id)},onMouseLeave:function(){!t&&e.setActiveRowIndex(null)},id:"draggable-row"},r.a.createElement(x.a,{title:e.isPerformed?"Performed":"Not performed",placement:"top"},r.a.createElement(w.a,{color:"primary",checked:e.isPerformed,onChange:function(){e.setPerformed(e.id)}})),r.a.createElement(x.a,{title:e.isTagged?"Tagged":"Not tagged",placement:"top",className:n.star},r.a.createElement(h.a,{onClick:function(){e.setTag(e.id)}},e.isTagged?r.a.createElement(P.a,{color:"primary"}):r.a.createElement(B.a,null))),r.a.createElement(u.a,{className:n.text,textOverflow:"ellipsis",overflow:"hidden"},e.text),e.activeRowIndex===e.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{title:"Edit",placement:"top"},r.a.createElement(h.a,{onClick:function(){e.setEditModeIndex(e.id)}},r.a.createElement(M.a,null))),r.a.createElement(O.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(Q,{text:e.text,setActiveRowIndex:e.setActiveRowIndex}),r.a.createElement(O.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(x.a,{title:"Delete",placement:"top"},r.a.createElement(h.a,{onClick:function(){e.deleteTasks(e.id)}},r.a.createElement(A.a,null)))):r.a.createElement(u.a,{className:n.date},e.date))},ee=function(e){var t=Object(l.b)();return r.a.createElement(Y,Object.assign({setPerformed:function(e){t(function(e){return{type:"SET_PERFORMED",id:e}}(e))},deleteTasks:function(a){t(function(e){return{type:"DELETE_TASK",id:e}}(a)),e.setOpenMessage({open:!0,message:"Uninstall was successful"})},setTag:function(e){t(function(e){return{type:"SET_TAG",id:e}}(e))}},e))},te=Object(p.a)({root:{borderTop:"1px solid #e0e0e0",flexGrow:1,overflow:"auto"},empty:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center","& span":{padding:"16px",backgroundColor:"#fafafa",borderRadius:"5px",border:"1px solid #e0e0e0"}}}),ae=function(e){var t=te();return r.a.createElement(u.a,{className:t.root},e.initialized&&0===e.tasks.length&&r.a.createElement(u.a,{className:t.empty},r.a.createElement("span",null,"It's empty here...")),e.tasks.slice(e.leftPortionPageNumber,e.rightPortionPageNumber).map((function(t){return e.editModeIndex!==t.id?r.a.createElement(ee,{id:t.id,text:t.text,isPerformed:t.isPerformed,editModeIndex:e.editModeIndex,setEditModeIndex:e.setEditModeIndex,activeRowIndex:e.activeRowIndex,setActiveRowIndex:e.setActiveRowIndex,setOpenMessage:e.setOpenMessage,isTagged:t.isTagged,date:e.convertDate(t.date),key:t.id}):r.a.createElement(C,{id:t.id,text:t.text,setEditModeIndex:e.setEditModeIndex,setOpenMessage:e.setOpenMessage,key:t.id,setActiveRowIndex:e.setActiveRowIndex})})))},ne=function(e){return"".concat(new Date(e).getDate()," ").concat(["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."][new Date(e).getMonth()])},re=function(e){var t=Object(n.useState)(null),a=Object(c.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),s=Object(c.a)(l,2),u=s[0],d=s[1],m=(e.pageNumber-1)*e.pageSize,p=e.pageNumber*e.pageSize,f=[];switch(e.filter){case"not performed":f=e.tasks.filter((function(e){return!e.isPerformed}));break;case"tags":f=e.tasks.filter((function(e){return e.isTagged}));break;default:f=e.tasks}switch(e.sortBy){case"not performed":f.sort((function(e,t){return e.isPerformed>t.isPerformed?1:e.isPerformed<t.isPerformed?-1:0}));break;case"tags":f.sort((function(e,t){return e.isTagged<t.isTagged?1:e.isTagged>t.isTagged?-1:0}));break;case"date":f.sort((function(e,t){return e.date>t.date?1:e.date<t.date?-1:0}))}return r.a.createElement(ae,{tasks:f,editModeIndex:o,setEditModeIndex:i,activeRowIndex:u,setActiveRowIndex:d,setOpenMessage:e.setOpenMessage,pageNumber:e.pageNumber,pageSize:e.pageSize,leftPortionPageNumber:m,rightPortionPageNumber:p,filter:e.filter,sortBy:e.sortBy,convertDate:ne,initialized:e.initialized})},oe=a(192),ie=a(188),ce=a(190);function le(e){return r.a.createElement(H.a,Object.assign({},e,{direction:"right"}))}var se=function(e){return r.a.createElement(ce.a,{mdDown:!0},r.a.createElement(oe.a,{open:e.openMessage.open,onClose:function(){e.setOpenMessage({open:!1,message:null})},autoHideDuration:4e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:le},r.a.createElement(ie.a,{onClose:function(){e.setOpenMessage({open:!1,message:null})},severity:"success",variant:"filled"},e.openMessage.message)))},ue=a(187),de=Object(p.a)({root:{padding:"8px",display:"flex",justifyContent:"center"}}),me=function(e){var t=de(),a=Math.ceil(e.tasks.length/e.pageSize);return r.a.createElement(u.a,{className:t.root,position:"static"},r.a.createElement(ue.a,{count:a,onChange:e.paginatorChange,color:"primary"}))},pe=a(43),fe=Object(p.a)((function(e){var t;return{root:(t={width:"100vw",height:"100vh"},Object(pe.a)(t,e.breakpoints.up("sm"),{height:"80vh",width:"700px"}),Object(pe.a)(t,"minWidth","250px"),Object(pe.a)(t,"display","flex"),Object(pe.a)(t,"flexDirection","column"),t)}})),ge=a(132),Ee=a(183),be=a(193),xe=Object(p.a)((function(e){return Object(be.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})})),he=function(e){var t=e.initialized,a=xe();return r.a.createElement(ge.a,{className:a.backdrop,open:!t},r.a.createElement(Ee.a,{color:"inherit"}))},Oe=a(195),ve=a(101),ke=a(103),Se=a(96),je=a.n(Se),ye=Object(p.a)({root:{margin:"0 8px 8px"}}),Ie=function(e){var t=ye();return r.a.createElement(u.a,{className:t.root},r.a.createElement(m.a,{onClick:e.handleButtonClick,startIcon:r.a.createElement(je.a,null)},r.a.createElement(ke.a,{variant:"body2"},"Filter by: ",e.filter)),r.a.createElement(ve.a,{anchorEl:e.anchorEl,keepMounted:!0,open:Boolean(e.anchorEl),onClose:e.handleClose},e.options.map((function(t,a){return r.a.createElement(Oe.a,{key:t,selected:a===e.options.indexOf(e.filter),onClick:function(t){return e.handleMenuItemClick(t,a)}},t)}))))},Ce=["all","not performed","tags"],we=function(e){var t=e.filter,a=Object(l.b)(),n=r.a.useState(null),o=Object(c.a)(n,2),i=o[0],s=o[1];return r.a.createElement(Ie,{filter:t,anchorEl:i,handleButtonClick:function(e){s(e.currentTarget)},handleMenuItemClick:function(e,t){s(null),a({type:"SET_FILTER",option:Ce[t]})},handleClose:function(){s(null)},options:Ce})},Te=a(97),Me=a.n(Te),Ne=Object(p.a)({root:{margin:"0 8px 8px"}}),Ae=function(e){var t=Ne();return r.a.createElement(u.a,{className:t.root},r.a.createElement(m.a,{onClick:e.handleButtonClick,startIcon:r.a.createElement(Me.a,null)},r.a.createElement(ke.a,{variant:"body2"},"Sort by: ",e.sortBy)),r.a.createElement(ve.a,{anchorEl:e.anchorEl,keepMounted:!0,open:Boolean(e.anchorEl),onClose:e.handleClose},e.options.map((function(t,a){return r.a.createElement(Oe.a,{key:t,selected:a===e.options.indexOf(e.sortBy),onClick:function(t){return e.handleMenuItemClick(t,a)}},t)}))))},ze=["date","not performed","tags"],Pe=function(e){var t=e.sortBy,a=Object(l.b)(),n=r.a.useState(null),o=Object(c.a)(n,2),i=o[0],s=o[1];return r.a.createElement(Ae,{sortBy:t,anchorEl:i,handleButtonClick:function(e){s(e.currentTarget)},handleMenuItemClick:function(e,t){s(null),a({type:"SET_SORT",option:ze[t]})},handleClose:function(){s(null)},options:ze})},Re=Object(p.a)((function(e){return{root:{display:"flex"}}})),Be=function(e){var t=e.filter,a=e.sortBy,n=Re();return r.a.createElement(u.a,{className:n.root},r.a.createElement(we,{filter:t}),r.a.createElement(Pe,{sortBy:a}))},De=function(e){var t=fe();return r.a.createElement(s.a,{className:t.root,elevation:3},r.a.createElement(E,{tasks:e.listState.tasks}),r.a.createElement(Be,{filter:e.listState.filter,sortBy:e.listState.sortBy}),r.a.createElement(re,{setOpenMessage:e.setOpenMessage,tasks:e.listState.tasks,pageNumber:e.pageNumber,pageSize:e.pageSize,filter:e.listState.filter,sortBy:e.listState.sortBy,initialized:e.initialized}),r.a.createElement(se,{openMessage:e.openMessage,setOpenMessage:e.setOpenMessage}),r.a.createElement(me,{tasks:e.listState.tasks,paginatorChange:e.paginatorChange,pageSize:e.pageSize}),r.a.createElement(he,{initialized:e.initialized}))},_e=function(e){localStorage.setItem("tasks",JSON.stringify(e))},Ve=function(){return JSON.parse(localStorage.getItem("tasks"))},Fe=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.list})),a=Object(l.c)((function(e){return e.app.initialized}));Object(n.useEffect)((function(){e((function(e){var t=Ve();setTimeout((function(){null!==t&&e({type:"SET_STATE",state:t}),e({type:"INITIALIZED_SUCCESS",initialized:!0})}),2e3)}))}),[]),Object(n.useEffect)((function(){_e(t)}),[t]);var o=Object(n.useState)({open:!1,message:null}),i=Object(c.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(1),m=Object(c.a)(d,2),p=m[0],f=m[1];return r.a.createElement(De,{openMessage:s,setOpenMessage:u,pageSize:11,pageNumber:p,paginatorChange:function(e,t){f(t)},listState:t,initialized:a})},Ke=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Fe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Je=a(184),Le=a(99),We=a(65),Ge=Object(Le.a)({palette:{primary:{main:We.a[400]},success:{main:We.a[400]}}}),Ue=a(48),Ze=a(98),He=a(100),$e=a(17),qe={tasks:[],filter:"all",sortBy:"date"},Qe={initialized:!1},Xe=Object(Ue.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":return Object($e.a)({},e,{tasks:[].concat(Object(He.a)(e.tasks),[{id:t.id,text:t.text,isPerformed:!1,isTagged:!1,date:t.date}])});case"DELETE_TASK":return Object($e.a)({},e,{tasks:e.tasks.filter((function(e){return e.id!==t.id}))});case"SET_PERFORMED":return Object($e.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object($e.a)({},e,{isPerformed:!e.isPerformed}):Object($e.a)({},e)}))});case"SAVE_TASK":return Object($e.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object($e.a)({},e,{text:t.text}):Object($e.a)({},e)}))});case"SET_STATE":return t.state;case"SET_TAG":return Object($e.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object($e.a)({},e,{isTagged:!e.isTagged}):Object($e.a)({},e)}))});case"SET_FILTER":return Object($e.a)({},e,{filter:t.option});case"SET_SORT":return Object($e.a)({},e,{sortBy:t.option});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;return"INITIALIZED_SUCCESS"===t.type?Object($e.a)({},e,{initialized:t.initialized}):e}}),Ye=Object(Ue.d)(Xe,Object(Ue.a)(Ze.a));i.a.render(r.a.createElement(l.a,{store:Ye},r.a.createElement(Je.a,{theme:Ge},r.a.createElement(Ke,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports={ViewContent:"ViewContent_ViewContent__WgEsj"}}},[[116,1,2]]]);
//# sourceMappingURL=main.90b07eb2.chunk.js.map